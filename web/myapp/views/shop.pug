extends layout2

block content
	- var q = prod_count
	- var bx24_url = "http://b24-19sfov.bitrix24.ru"
	script(src="/jquery-3.5.1.js")
	script(src="/cart.js")

	.grid-container
		.carousel-v.
			ipsum enim nisi cillum quae aliqua aliqua aute irure aute dolor quorum minim 
			tempor dolore dolor irure fugiat elit aliqua illum anim multos quem dolor multos 
			amet irure duis esse export quae nisi culpa culpa quem sunt esse dolore legam 
			esse aliqua sunt aute elit esse magna aute legam multos irure export anim ipsum 
			quem nulla sint aute aute malis nisi sint sunt malis noster summis sunt duis 
			noster multos nisi tamen tamen multos legam illum sint elit sunt aute esse magna 
			eram nulla labore amet amet noster enim fore quid fugiat culpa sunt export amet 
			sint cillum enim nisiipsum enim nisi cillum quae aliqua aliqua aute irure aute dolor quorum minim 
			tempor dolore dolor irure fugiat elit aliqua illum anim multos quem dolor multos 
			amet irure duis esse export quae nisi culpa culpa quem sunt esse dolore legam 
			esse aliqua sunt aute elit esse magna aute legam multos irure export anim ipsum 
			quem nulla sint aute aute malis nisi sint sunt malis noster summis sunt duis 
			noster multos nisi tamen tamen multos legam illum sint elit sunt aute esse magna 
			eram nulla labore amet amet noster enim fore quid fugiat culpa sunt export amet 
			sint cillum enim nisiipsum enim nisi cillum quae aliqua aliqua aute irure aute dolor quorum minim 
			tempor dolore dolor irure fugiat elit aliqua illum anim multos quem dolor multos 
			amet irure duis esse export quae nisi culpa culpa quem sunt esse dolore legam 
			esse aliqua sunt aute elit esse magna aute legam multos irure export anim ipsum 
			quem nulla sint aute aute malis nisi sint sunt malis noster summis sunt duis 
			noster multos nisi tamen tamen multos legam illum sint elit sunt aute esse magna 
			eram nulla labore amet amet noster enim fore quid fugiat culpa sunt export amet 
			sint cillum enim nisi
		.carousel(class='slide' id='slider' data-rede='carousel')
			.carousel-inner
				.carousel-item(class='active')
					img(src='https://energosbyt.ru/upload/medialibrary/ed1/ed1fb178be3b07ac589a907e78e5cc09.jpg')
		.main-content(class='item_list')
			- for(var i=0; i<q; i++) 
				div(class='shop_item' id=products[i].id)
					div(class='carousel_img')
						img(src=products[i].carousel_img)
					a(href='#' class='item_name') #{products[i].item_name}
					p(class='item_price') #{products[i].item_price} р.
					div.footer_item
						button.btn.btn-primary Купить
						div Кол-во
							.range_items
								button.btn.btn-secondary
									i.fas.fa-minus.controls
								input(type='text' value='1')
								button.btn.btn-secondary
									i.fas.fa-plus.controls
		.sidebar
			ul(class='filters')
				li 
					a(class='filters_tags') Категория
						.categories
							a(href='#') Чай
								i.fas.fa-angle-right
							a(href='#') Кофе
								i.fas.fa-angle-right
				li 
					a(class='filters_tags') Цена
					div.price
						p 0р. 
						input(type='range' min='0' max='1000' id='range_price' value='1000' step='1')
						input(type='text' value='1000' id='input_range_price')
				li
					a(class='filters_tags') Бренд
					div.submenu_wrap
						.submenu
							input(type='checkbox')
							label Greenfield
						.submenu
							input(type='checkbox')
							label Tess
						.submenu
							input(type='checkbox')
							label Принцесса Нури
				li
					a(class='filters_tags') Вид чая
					.tea_type_wrap
						.tea_type
							input(type='checkbox')
							label Черный
							.options
								input(type='checkbox')
								label с добавками
						.tea_type
							input(type='checkbox')
							label Зеленый
							.options
								input(type='checkbox')
								label с добавками
						.tea_type
							input(type='checkbox')
							label Гербальный
				li
					a(class='filters_tags') В одной коллекции
					#one_collection
						input(type='checkbox')
						label Да
				li
					a(class='filters_tags') Вес
					.weight_wrap
						p 0г.
						input(type='range' min='0' max='500' id='range_weight' value='500')
						input(type='text' value='500' id='input_range_weight')
				li
					a(class='filters_tags') Число пакетиков
					.submenu_wrap
						.submenu
							input(type='checkbox')
							label 20
						.submenu
							input(type='checkbox')
							label 25
						.submenu
							input(type='checkbox')
							label 100
				li
					a(class='filters_tags') Вид упаковки
					.submenu_wrap
						.submenu
							input(type='checkbox')
							label Коробка 
						.submenu
							input(type='checkbox')
							label Пакет
						.submenu
							input(type='checkbox')
							label Подарочная упкаовка
	script.
		window.onload = function(){
			var range_price = document.getElementById('range_price');
			var input_range_price = document.getElementById('input_range_price');
			var range_weight = document.getElementById('range_weight');
			var input_range_weight = document.getElementById('input_range_weight');			
			range_price.addEventListener('mousemove', function(){
				input_range_price.value = range_price.value;
			});
			input_range_price.addEventListener('change', function(){
				range_price.value = input_range_price.value;
			});
			range_weight.addEventListener('mousemove', function(){
				input_range_weight.value = range_weight.value;
			});
			input_range_weight.addEventListener('change', function(){
				range_weight.value = input_range_weight.value;
			});
			var a = document.getElementsByClassName('carousel_img');
			console.log(a);
			var counter = 1;
			var isHovered = false;
			for(var i =0; i < a.length; i++){
				a[i].addEventListener('mouseover', function(e){
					isHovered = true;
					
					var x = e.offsetX==undefined?e.layerX:e.offsetX;
					var y = e.offsetY==undefined?e.layerY:e.offsetY;
				
					
				})
				a[i].addEventListener('mouseout', function(e){
					isHovered = false;
				})
				}
			
			
		}
